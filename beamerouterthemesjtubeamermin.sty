%%
%% This is file `beamerouterthemesjtubeamermin.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% beamerouterthemesjtubeamermin.dtx  (with options: `package')
%% -------------------------------------------------------------------
%% Copyright (C) 2021 SJTUG
%% 
%% Licensed under the Apache License, Version 2.0 (the "License");
%% you may not use this file except in compliance with the License.
%% You may obtain a copy of the License at
%% 
%%     http://www.apache.org/licenses/LICENSE-2.0
%% 
%% Unless required by applicable law or agreed to in writing, software
%% distributed under the License is distributed on an "AS IS" BASIS,
%% WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
%% See the License for the specific language governing permissions and
%% limitations under the License.
%% -------------------------------------------------------------------
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{beamerouterthemesjtubeamermin}[2021-08-16 sjtubeamermin outer theme v1.1]
\DeclareOptionBeamer{lang}{\def\beamer@sjtubeamermin@lang{#1}}
\def\beamer@sjtubeamermin@langcn{cn}%
\def\beamer@sjtubeamermin@langen{en}%
\DeclareOptionBeamer{pattern}{\def\beamer@sjtubeamermin@pattern{#1}}
\def\beamer@sjtubeamermin@patternnone{none}%
\def\beamer@sjtubeamermin@patterntitle{title}%
\def\beamer@sjtubeamermin@patternall{all}%
\DeclareOptionBeamer{navigation}{\def\beamer@sjtubeamermin@navigation{#1}}
\def\beamer@sjtubeamermin@navigationtools{tools}%
\def\beamer@sjtubeamermin@navigationsubsections{subsections}%
\def\beamer@sjtubeamermin@navigationpages{pages}%
\ExecuteOptionsBeamer{
  lang=cn,
  pattern=all,
  navigation=tools
}
\ProcessOptionsBeamer
\setbeamertemplate{sidebar right}{}
\ifx\beamer@sjtubeamermin@navigation\beamer@sjtubeamermin@navigationsubsections%
  \addtobeamertemplate{footline}{
    \vskip 4pt
    \vbox{}
    \ifnum\beamer@partstartpage=\c@page %
    \else
      \par\hfill\insertnavigation{0.4\paperwidth}\hspace*{0.1cm}
    \fi
    \par
    \vskip 10pt
    \vbox{}
  }{}
\else
  \def\pagenumbering{
    \raisebox{1.2pt}[0pt][0pt]{
      \usebeamerfont{footline}
      \usebeamercolor{footline}
      \color{footline.fg!50}
      \insertframenumber/\inserttotalframenumber
      \hspace*{0.5em}
    }
  }
  \addtobeamertemplate{navigation symbols}{}{%
    \hspace{1em}%
    \pagenumbering
  }%
  \addtobeamertemplate{footline}{
    \ifnum\beamer@partstartpage=\c@page %
    \else%
      \hfill%
      \ifx\beamer@sjtubeamermin@navigation\beamer@sjtubeamermin@navigationtools%
        \usebeamertemplate***{navigation symbols}%
      \else
        \pagenumbering%
      \fi
    \fi%
    \hspace*{0.1cm}\par
    \vskip 4pt
  }{}
\fi%
\RequirePackage{sjtuvishape}
\tikzfading[
  name=fade left little,
  right color=transparent!0,
  left color=transparent!10
]
\defbeamertemplate*{frametitle}{sjtubeamermin}[1][left]
{%
  \ifbeamercolorempty[bg]{frametitle}{}{\nointerlineskip}%
  \@tempdima=\textwidth%
  \advance\@tempdima by\beamer@leftmargin%
  \advance\@tempdima by\beamer@rightmargin%
  \begin{beamercolorbox}[sep=0.3cm,#1,wd=\the\@tempdima]{frametitle}
    \begingroup
    \usebeamerfont{frametitle}%
    \ifbeamer@draftmode%
    \else%
      \ifx\beamer@sjtubeamermin@pattern\beamer@sjtubeamermin@patternall
        \ifnum\beamer@sectionstartpage=\c@page %
          \begin{tikzpicture}[overlay]
            \ifx\insertframesubtitle\@empty%
              \def\h{-0.11*\the\paperheight}
            \else
              \def\h{-0.125*\the\paperheight}
            \fi
            \usebeamercolor{palette primary}
            \stamparray{20pt}
              {(-0.05*\the\paperwidth,\h)}
              {(\the\paperwidth,0.05*\the\paperheight)}
            \fill [bg,path fading=fade left little] (-0.05*\the\paperwidth,\h)
              rectangle (\the\paperwidth,0.05*\the\paperheight);
          \end{tikzpicture}
        \fi
      \fi
    \fi%
    \vbox{}
    \ifx\insertframesubtitle\@empty\vskip-2pt%
    \else\vskip-1ex\fi%
    \if@tempswa\else\csname beamer@fte#1\endcsname\fi%
    \strut\insertframetitle\strut\par%
    {%
      \ifx\insertframesubtitle\@empty%
      \else%
      {
        \usebeamerfont{framesubtitle}
        \usebeamercolor[fg]{framesubtitle}
        \strut\insertframesubtitle\strut\par
      }%
      \fi
    }%
    \vskip-1ex%
    \endgroup%
    \raggedleft%
    \begingroup
    \ifx\insertframesubtitle\@empty\vskip-2.5ex%
    \else\vskip-3.5ex\fi%
    {\resizebox{!}{0.7cm}{\insertlogo}}\hspace*{2ex}%
    \endgroup%
    \ifx\insertframesubtitle\@empty%
    \else\vskip0.5ex\fi%
    \if@tempswa\else\vskip-.3cm\fi%
  \end{beamercolorbox}%
}
\endinput
%%
%% End of file `beamerouterthemesjtubeamermin.sty'.
